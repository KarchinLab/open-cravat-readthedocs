

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command line usage &mdash; open-cravat  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> open-cravat
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Home.html">Intro to OpenCRAVAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart-command-line.html">Command line quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.-Installation-Instructions.html">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.-Command-line-usage.html">Command line usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.-Viewing-Results.html">Viewing results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.-GUI-usage.html">GUI usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Uninstallation.html">Uninstallation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Update-Instructions.html">Update instructions</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Filter-Tutorial.html">Filter tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Case-Control.html">Case-Control Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Cloud.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Multiuser-support.html">Multiuser support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../OpenCRAVAT-Variant-Report.html">Variant Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Release-Notes.html">Release notes</a></li>
</ul>
<p class="caption"><span class="caption-text">For contributors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../File-Formats.html">File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Annotator-Reference.html">Annotator reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Annotator-Tutorial.html">Annotator tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Widget-Tutorial.html">Widget tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reporter.html">Reporter tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Publish-an-Annotator.html">Publish</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">open-cravat</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Command line usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/open-cravat-readthedocs/2.-Command-line-usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-line-usage">
<h1>Command line usage<a class="headerlink" href="#command-line-usage" title="Permalink to this headline">¶</a></h1>
<p>To analyze a file of variants, just type:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span> <span class="pre">input.vcf</span> <span class="pre">-l</span> <span class="pre">hg38</span></code></p>
<p>See the <a class="reference external" href="Running-OpenCRAVAT">input format specifications</a> for
supported input file formats.</p>
<p>The above command will run all installed annotators on the provided
input file and produce Excel and sqlite output in same directory as the
input file. The terminal output will look something like this:</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>Running converter...
    Converter (converter)           finished in 0.441s
Running gene mapper...
    UCSC hg38 Gene Mapper (hg38)    finished in 0.188s
Running annotators...
        biogrid: started at Thu Jun  6 18:30:03 2019
        biogrid: finished at Thu Jun  6 18:30:03 2019
        biogrid: runtime 0.013s
    annotator(s) finished in 0.128s
Running aggregator...
    Variants                        finished in 0.013s
    Genes                           finished in 0.010s
    Samples                         finished in 0.008s
    Tags                            finished in 0.018s
Running post-aggregators...
    Tag Sampler (tagsampler)        finished in 0.005s
    VCF Info (vcfinfo)              finished in 0.006s
Finished normally. Runtime: 1.239s
</pre></div>
</div>
<p>To run a subset of the annotators that are installed, use the -a option:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span> <span class="pre">./input.vcf</span> <span class="pre">-l</span> <span class="pre">hg38</span> <span class="pre">-a</span> <span class="pre">cosmic</span> <span class="pre">ndex</span></code></p>
<p>This command would run just the 2 specified annotators (they be
installed)</p>
<p>If you would like tab delimited output use <code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">text</span></code> or
<code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">text</span> <span class="pre">excel</span></code> for both.</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span> <span class="pre">./input.vcf</span> <span class="pre">-l</span> <span class="pre">hg38</span> <span class="pre">-t</span> <span class="pre">text</span></code></p>
<p>The following optional parameters can be included on the OpenCRAVAT
command line AFTER the input file.
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span> <span class="pre">./input.vcf</span> <span class="pre">[command</span> <span class="pre">line</span> <span class="pre">options]</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-h</p></td>
<td><p>Shows help message.</p></td>
</tr>
<tr class="row-odd"><td><p>-a
&lt;annotato
rs&gt;</p></td>
<td><p>Annotators to run. List of
annotator names separated by
spaces.</p></td>
</tr>
<tr class="row-even"><td><p>-e
&lt;annotato
rs&gt;</p></td>
<td><p>Run all installed annotators
except those listed. List of
annotator names separated by
spaces.</p></td>
</tr>
<tr class="row-odd"><td><p>-n
&lt;prefix&gt;</p></td>
<td><p>Output filename prefix. Default is
the input file name.</p></td>
</tr>
<tr class="row-even"><td><p>-d
&lt;director
y&gt;</p></td>
<td><p>Directory for output files.
Default is the directory of the
input file.</p></td>
</tr>
<tr class="row-odd"><td><p>-c
&lt;config&gt;</p></td>
<td><p>Path to custom config file, to
override cravat.yml settings.</p></td>
</tr>
<tr class="row-even"><td><p>-v</p></td>
<td><p>Returns verbose output.</p></td>
</tr>
<tr class="row-odd"><td><p>-t
&lt;format&gt;</p></td>
<td><p>excel,text - Reporters to run.</p></td>
</tr>
<tr class="row-even"><td><p>-l
&lt;genome&gt;</p></td>
<td><p>hg38,hg19,hg18 - Reference genome
of input. Default is hg38.</p></td>
</tr>
<tr class="row-odd"><td><p>-x</p></td>
<td><p>Force rebuild of the existing
result database.</p></td>
</tr>
</tbody>
</table>
<p>To see all supported command line options type:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span> <span class="pre">-h</span></code></p>
<div class="section" id="submitting-multiple-files">
<h2>Submitting Multiple Files<a class="headerlink" href="#submitting-multiple-files" title="Permalink to this headline">¶</a></h2>
<p>As of version 1.4.2, openCRAVAT supports the submission of multiple
input files in one job. In the command line, this can be done by
including multiple paths in the positional arguments as so
<code class="docutils literal notranslate"><span class="pre">cravat</span> <span class="pre">a.vcf</span> <span class="pre">b.vcf</span> <span class="pre">c.vcf</span> <span class="pre">...</span></code>. OpenCRAVAT will merge the variants
found in the input files and process each unique variant once. All input
formats accepted by openCRAVAT can be submitted in multiple files.
However, all files must be the in the same format.</p>
<p>Sample IDs are altered when multiple files are submitted to track which
file(s) variants occurred in. The format will be
<code class="docutils literal notranslate"><span class="pre">inputFileName_originalSampleID</span></code>. For example, assume two files are
submitted, <code class="docutils literal notranslate"><span class="pre">jane.vcf</span></code> and <code class="docutils literal notranslate"><span class="pre">john.vcf</span></code>. Each file contains two
identically named samples, <code class="docutils literal notranslate"><span class="pre">normal</span></code> and <code class="docutils literal notranslate"><span class="pre">tumor</span></code>. In the results,
there will be four sample IDs: <code class="docutils literal notranslate"><span class="pre">jane_normal</span></code>, <code class="docutils literal notranslate"><span class="pre">jane_tumor</span></code>,
<code class="docutils literal notranslate"><span class="pre">john_normal</span></code>, and <code class="docutils literal notranslate"><span class="pre">john_tumor</span></code>.</p>
<div class="section" id="working-with-modules">
<h3>Working with modules<a class="headerlink" href="#working-with-modules" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span></code> command tree is used to find modules, and change which
are installed on your local system.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 45%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-h, –help</p></td>
<td><p>Shows help message.</p></td>
<td><p>Information</p></td>
</tr>
<tr class="row-odd"><td><p>ls</p></td>
<td><p>lists modules.</p></td>
<td><p>Information</p></td>
</tr>
<tr class="row-even"><td><p>install</p></td>
<td><p>installs modules.</p></td>
<td><p>System settings</p></td>
</tr>
<tr class="row-odd"><td><p>update</p></td>
<td><p>updates modules.</p></td>
<td><p>System settings</p></td>
</tr>
<tr class="row-even"><td><p>uninstall</p></td>
<td><p>uninstalls modules.</p></td>
<td><p>System settings</p></td>
</tr>
<tr class="row-odd"><td><p>info</p></td>
<td><p>shows module information.</p></td>
<td><p>Information</p></td>
</tr>
<tr class="row-even"><td><p>install-base</p></td>
<td><p>installs base modules.</p></td>
<td><p>System settings</p></td>
</tr>
</tbody>
</table>
<p>For additional help on a specific command, add -h to the command:
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">[command]</span> <span class="pre">-h</span></code></p>
<p>See available annotators with: <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">ls</span> <span class="pre">-a</span> <span class="pre">-t</span> <span class="pre">annotator</span></code></p>
<p>Get a more detailed description for a module of interest, type:
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">info</span> <span class="pre">[annotator]</span></code></p>
<p>Install an annotator: <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">install</span> <span class="pre">[annotator]</span></code></p>
<p>See where modules are currently stored: <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">config</span> <span class="pre">md</span></code></p>
<p>Change the modules directory: <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">config</span> <span class="pre">md</span> <span class="pre">[dirPath]</span></code></p>
</div>
<div class="section" id="working-with-completed-jobs">
<h3>Working with completed jobs<a class="headerlink" href="#working-with-completed-jobs" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="creating-a-report">
<h2>Creating a report<a class="headerlink" href="#creating-a-report" title="Permalink to this headline">¶</a></h2>
<p>Create a new report with the <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">report</span></code> command. The report will
overwrite an existing report of the same type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oc</span> <span class="n">report</span> <span class="n">job</span><span class="o">.</span><span class="n">sqlite</span> <span class="o">-</span><span class="n">t</span> <span class="n">tsv</span> <span class="n">vcf</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-t</span></code> flag is required to select the reporter(s) to run. Find more
reporters with <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">ls</span> <span class="pre">-a</span> <span class="pre">-t</span> <span class="pre">reporter</span></code>.</p>
</div>
<div class="section" id="adding-annotators">
<h2>Adding annotators<a class="headerlink" href="#adding-annotators" title="Permalink to this headline">¶</a></h2>
<p>It is possible to add annotators to a completed job. Simply pass the
job’s sqlite db as the input file to <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span></code>, and include a list of
annotators to add.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oc</span> <span class="n">run</span> <span class="n">job</span><span class="o">.</span><span class="n">sqlite</span> <span class="o">-</span><span class="n">a</span> <span class="n">chasmplus</span> <span class="n">vest</span>
</pre></div>
</div>
<p>The selected annotators will be added to the job. Note that a new report
will not be generated. That must be done manually if desired.</p>
</div>
<div class="section" id="upgrading-a-database">
<h2>Upgrading a database<a class="headerlink" href="#upgrading-a-database" title="Permalink to this headline">¶</a></h2>
<p>In rare cases, an older database will not be able to use features in
newer versions of OpenCRAVAT. If you are getting errors when using newer
features, use <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">util</span> <span class="pre">update-result</span></code> to modify the database to work
with the latest installed version of OpenCRAVAT</p>
</div>
<div class="section" id="send-command-line-job-to-the-graphical-interface">
<h2>Send command line job to the graphical interface<a class="headerlink" href="#send-command-line-job-to-the-graphical-interface" title="Permalink to this headline">¶</a></h2>
<p>Jobs that are run on the command line will not automatically appear in
the graphical interface. Add an existing OpenCRAVAT job to the jobs
table in the interactive interface with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oc</span> <span class="n">send</span><span class="o">-</span><span class="n">gui</span> <span class="n">test</span><span class="o">.</span><span class="n">sqlite</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Rick Kim, Kyle Moad, Kym Pagel, Madison Larsen, Michael Ryan, Rachel Karchin

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>