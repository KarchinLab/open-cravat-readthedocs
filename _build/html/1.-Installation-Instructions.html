

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation Instructions &mdash; open-cravat  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> open-cravat
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Installation Instructions</a><ul>
<li><a class="reference internal" href="#installing-with-pip">Installing with pip</a><ul>
<li><a class="reference internal" href="#linux">Linux</a></li>
<li><a class="reference internal" href="#mac">Mac</a></li>
<li><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#install-base-components">Install Base Components</a></li>
<li><a class="reference internal" href="#running-the-web-interface">Running the web interface</a></li>
<li><a class="reference internal" href="#install-annotators">Install Annotators</a></li>
<li><a class="reference internal" href="#updating-annotators">Updating Annotators</a></li>
<li><a class="reference internal" href="#moving-modules-directory">Moving Modules Directory</a></li>
<li><a class="reference internal" href="#installing-viewer-widgets">Installing Viewer Widgets</a></li>
<li><a class="reference internal" href="#multiuser-gui-support">Multiuser GUI support</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">open-cravat</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation Instructions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/1.-Installation-Instructions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-instructions">
<h1>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h1>
<p>You can bypass the installation steps below by using Windows or Mac OS
Installer of OpenCRAVAT.</p>
<p><strong>Windows users</strong>: <a class="reference external" href="http://karchinlab.org/opencravat/installers/open-cravat-2.2.1.exe">Windows
installer</a></p>
<p>Windows Defender may indicate that it prevented an unknown application
from running. If so, click the ‘More’ link on the message and then
select ‘Run Anyway’. An “OpenCRAVAT” icon will be created on the Desktop
and the Start Menu. Double-click the OpenCRAVAT icon to launch the web
interface.</p>
<p><strong>Mac users</strong>: <a class="reference external" href="http://karchinlab.org/opencravat/installers/OpenCRAVAT.2.2.1.pkg">Mac installer</a></p>
<p>Right-click the downloaded file and select “Open”. Your Mac may ask you
to confirm stating that the file was not downloaded from the App Store.
Click “Open” button. Just double-clicking the installer may not enable
this “Open” option.</p>
<div class="section" id="installing-with-pip">
<h2>Installing with pip<a class="headerlink" href="#installing-with-pip" title="Permalink to this headline">¶</a></h2>
<p>To install Open-CRAVAT you need Python 3.6 or newer. If you do not have
Python 3, install it using an installation file provided by
<a class="reference external" href="http://www.python.org">python.org</a>.</p>
<div class="section" id="linux">
<h3>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<p>On linux, OpenCRAVAT is installed with the
<a class="reference external" href="https://pypi.org/project/open-cravat/">‘open-cravat’</a> pip package.
The steps for installation are different if you are installing for a
single user, or all users system.</p>
<p>For a single user, we recommend the following methods.</p>
<ol class="arabic simple">
<li><p>Use a virtual environment such as
<a class="reference external" href="https://packaging.python.org/tutorials/installing-packages/#creating-virtual-environments">venv</a>,
or
<a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html">conda</a>.</p></li>
<li><p>Install to your home directory with
<code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">--user</span> <span class="pre">open-cravat</span></code></p></li>
</ol>
<p>To install for all users, run pip as root with
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">open-cravat</span></code>. Pip will place the <code class="docutils literal notranslate"><span class="pre">oc</span></code> executable
at a location accessible to all users, probably <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code>. All
users will be able to use <code class="docutils literal notranslate"><span class="pre">oc</span></code> to run jobs. However, only root will be
able to install modules, or launch the gui. Unfortunately, in many
systems <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code> is not in root’s path. This can be solved by
linking <code class="docutils literal notranslate"><span class="pre">oc</span></code> to a directory in root’s path, such as
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">ln</span> <span class="pre">-s</span> <span class="pre">/usr/local/bin/oc</span> <span class="pre">/usr/bin/oc</span></code>.</p>
</div>
<div class="section" id="mac">
<h3>Mac<a class="headerlink" href="#mac" title="Permalink to this headline">¶</a></h3>
<p>We recommend installing Python 3 using the installation file provided at
<a class="reference external" href="http://www.python.org">python.org</a> instead of using any other manual
way of installing Python 3. After installing Python 3, a new terminal
should be opened and used in executing the below commands.</p>
</div>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>To install the openCRAVAT python package, run the following command in a
command line shell.</p>
<p><code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">open-cravat</span></code></p>
<p>If you use Windows and if your Python 3 is installed inside of a
system-level folder such as “C::raw-latex:<a href="#id1"><span class="problematic" id="id2">`</span></a>Program <a href="#id3"><span class="problematic" id="id4">`</span></a>Files”, you may
have a problem with running open-cravat without the admin privilege. In
this case, we recommend installing Python 3 outside of system-level
folders and then installing open-cravat.</p>
<p><strong>PyYAML error:</strong> If you experience an error such as
<code class="docutils literal notranslate"><span class="pre">ERROR:</span> <span class="pre">Cannot</span> <span class="pre">uninstall</span> <span class="pre">'PyYAML'.</span> <span class="pre">It</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">distutils</span> <span class="pre">installed</span> <span class="pre">project</span> <span class="pre">and</span> <span class="pre">thus</span> <span class="pre">we</span> <span class="pre">cannot</span> <span class="pre">accurately</span> <span class="pre">determine</span> <span class="pre">which</span> <span class="pre">files</span> <span class="pre">belong</span> <span class="pre">to</span> <span class="pre">it</span> <span class="pre">which</span> <span class="pre">would</span> <span class="pre">lead</span> <span class="pre">to</span> <span class="pre">only</span> <span class="pre">a</span> <span class="pre">partial</span> <span class="pre">uninstall.</span></code>,
use a virtual environment or try
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--ignore-installed</span> <span class="pre">PyYAML</span></code>.</p>
<p><strong>For Ubuntu:</strong> pip3 provided by apt does not install executables
properly. We recommend the following steps before proceeding.
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">remove</span> <span class="pre">python-pip</span></code> if pip3 has already been installed with
apt. Then <code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">https://bootstrap.pypa.io/get-pip.py</span></code> and
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">python3</span> <span class="pre">get-pip.py</span></code>. For system-wide use of OpenCRAVAT, the
following suggestion works: Install OpenCRAVAT with <code class="docutils literal notranslate"><span class="pre">sudo</span></code>
(<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">open-cravat</span></code>), Use <code class="docutils literal notranslate"><span class="pre">sudo</span></code> for
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">install/uninstall/update</span></code> and <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">gui</span></code>. Use without
<code class="docutils literal notranslate"><span class="pre">sudo</span></code> for <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">run</span></code> and <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">gui</span> <span class="pre">job.sqlite</span></code> commands.</p>
</div>
</div>
<div class="section" id="install-base-components">
<h2>Install Base Components<a class="headerlink" href="#install-base-components" title="Permalink to this headline">¶</a></h2>
<p>OpenCRAVAT needs a set of base modules to function (converters, a
mapper, an aggregator and reporters). The mapper has a full GRCh38 gene
set database so will require 2GB of space to install.</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">install-base</span></code></p>
</div>
<div class="section" id="running-the-web-interface">
<h2>Running the web interface<a class="headerlink" href="#running-the-web-interface" title="Permalink to this headline">¶</a></h2>
<p>Once the base install is complete, the OpenCRAVAT browser based GUI
interface can be used to install annotators, submit, and view jobs. This
can be done by following the instructions in the <a class="reference external" href="https://github.com/KarchinLab/open-cravat/wiki/5.-GUI-usage">GUI usage
page</a>.</p>
<p>Alternatively, users who prefer a command line interface should proceed
by reading the following sections.</p>
</div>
<div class="section" id="install-annotators">
<h2>Install Annotators<a class="headerlink" href="#install-annotators" title="Permalink to this headline">¶</a></h2>
<p>OpenCRAVAT is a modular system that enables users to install and run
just those variant analysis modules that are relevant to their study.
The OpenCRAVAT Store includes a wide variety of variant interpretation
modules developed by both CRAVAT team members and by other members of
the variant interpretation community. For example the <strong>grasp</strong>
annotator provides GWAS associations for variants and <strong>vest</strong> provides
scores that predicts pathogenicity. Annotators for both coding and
non-coding variants are available.</p>
<p>To search the CRAVAT Store to see available annotators run:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">ls</span> <span class="pre">-a</span> <span class="pre">-t</span> <span class="pre">annotator</span></code></p>
<p>The result of this command is a list of available annotators that also
indicates which annotators you have installed.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 20%" />
<col style="width: 14%" />
<col style="width: 23%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Latest version</p></th>
<th class="head"><p>Installed</p></th>
<th class="head"><p>Installed version</p></th>
<th class="head"><p>Up-to-date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cgc</p></td>
<td><p>anotator</p></td>
<td><p>1.0.0</p></td>
<td><p>False</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>chasmplus</p></td>
<td><p>anotator</p></td>
<td><p>1.0.0</p></td>
<td><p>False</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>clinvar</p></td>
<td><p>anotator</p></td>
<td><p>1.0.0</p></td>
<td><p>False</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>cosmic</p></td>
<td><p>anotator</p></td>
<td><p>1.0.0</p></td>
<td><p>True</p></td>
<td><p>1.0.0</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p><strong>…</strong></p></td>
<td><p><strong>…</strong></p></td>
<td><p><strong>…</strong></p></td>
<td><p><strong>…</strong></p></td>
<td><p><strong>…</strong></p></td>
<td><p><strong>…</strong></p></td>
</tr>
</tbody>
</table>
<p>To get a more detailed description for a module of interest, type:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">info</span> <span class="pre">&lt;annotator</span> <span class="pre">name&gt;</span></code></p>
<p>When you identify an annotator in the list above that you wish to use,
install it with the command:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">install</span> <span class="pre">&lt;annotator</span> <span class="pre">name&gt;</span></code></p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">install</span> <span class="pre">clinvar</span></code></p>
<p>Only those annotators that are useful for your study need to be
installed. Many annotators include large reference data sets, which will
take time to install and may require substantial disk space. A progress
bar will indicate the portion of the data which has been downloaded as
it runs.</p>
</div>
<div class="section" id="updating-annotators">
<h2>Updating Annotators<a class="headerlink" href="#updating-annotators" title="Permalink to this headline">¶</a></h2>
<p>Update all modules with <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">update</span></code>. To update specific modules
use <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">update</span> <span class="pre">[module1]</span> <span class="pre">[module2]</span></code> As mentioned above, the
<code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">ls</span> <span class="pre">-a</span></code> command will indicate if the version of a module
installed locally is out of date.</p>
</div>
<div class="section" id="moving-modules-directory">
<h2>Moving Modules Directory<a class="headerlink" href="#moving-modules-directory" title="Permalink to this headline">¶</a></h2>
<p>The OpenCRAVAT pip package will normally be installed in your local
Python site-packages directory. All of the additional annotators and
other CRAVAT modules will be installed in the ‘modules’ directory of the
OpenCRAVAT package. By default, this will be in the CRAVAT package in
the site-packages directory. Occasionally the size of the module
reference data is an issue on the drive where the Python site-packages
are stored. If this is the case, you can relocate the CRAVAT modules
directory to a different drive.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">config</span> <span class="pre">md</span></code> to see where modules are currently stored. To
change the modules directory, copy data from the old modules directory
to the new one, then use <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">config</span> <span class="pre">md</span> <span class="pre">[new</span> <span class="pre">directory]</span></code> to point
OpencRAVAT to the new directory.</p>
</div>
<div class="section" id="installing-viewer-widgets">
<h2>Installing Viewer Widgets<a class="headerlink" href="#installing-viewer-widgets" title="Permalink to this headline">¶</a></h2>
<p>When OpenCRAVAT analysis is complete, one method of exploring the
results is to use the graphical interactive results viewer <strong>oc gui</strong>.
The oc gui program needs visualization widgets related to the annotators
used in the CRAVAT analysis. In the future the viewer will be augmented
to dynamically obtain all required viewer widgets. In the interim, if
you plan to use the <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">gui</span></code> program to explore results, you need to
install the appropriate viewer widgets. The base widgets for each
annotator have a name that matches the annotator name with a ‘wg’
prefix. For example the cosmic annotator results are displayed with the
wgcosmic viewer widget. To see available widgets:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">ls</span> <span class="pre">-a</span> <span class="pre">-t</span> <span class="pre">webviewerwidget</span></code></p>
<p>To install a widget:</p>
<p><code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">module</span> <span class="pre">install</span> <span class="pre">widgetName</span></code></p>
</div>
<div class="section" id="multiuser-gui-support">
<h2>Multiuser GUI support<a class="headerlink" href="#multiuser-gui-support" title="Permalink to this headline">¶</a></h2>
<p>OpenCRAVAT’s web interface can have multiple user accounts by installing
<a class="reference external" href="https://github.com/KarchinLab/open-cravat/wiki/Multiuser-support">open-cravat-multiuser</a>
package (from OpenCRAVAT 1.6.0). See <a class="reference external" href="https://github.com/KarchinLab/open-cravat/wiki/Multiuser-support">this
page</a>
for the details of using multiple user accounts with OpenCRAVAT.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Rick Kim, Kyle Moad, Kym Pagel, Madison Larsen, Michael Ryan, Rachel Karchin

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>